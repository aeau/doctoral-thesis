\subsection{Related Work}

%\begin{itemize}
    %\item Narrative structuralism~\citepeleventhpeleventh{p11propp_morphology_1975,barthes_introduction_1975,baikadi_towards_2012,yu_what_2020,kishino_hunt_2005,kybartas_quinn_survey_2017}. Although, maybe there is no need to really go into narrative structure.
%    \item other approaches to generate stories and narratives.~\citepeleventh{p11alvarez_questgram_2021,hartsook_toward_2011,trenton_quest_2010,rouse_sketching_2018,doran_prototype_2011,breault_let_2021,garbe_storyassembler_2019,dormans_generating_2011,sullivan_questbrowser_2009}
%    \item of course, here we connect to quests as well, although thats not the aim here (but is good to have a few references)

    
    
    
%    \item important now! multi-facet generation!~\citepeleventh{p11liapis_computational_2014,liapis_orchestrating_2019,hoover_audioinspace_2015,holtar_audioverdrive_2013,karavolos_multi-faceted_2019,cook_rogue_2014,treanor_game-o-matic_2012,green_data_2018,cook_angelina_2016}. Specifically for narrative and level generation~\citepeleventh{p11ashmore_quest_2007,hartsook_toward_2011,dormans_generating_2011,abuzuraiq_taksim_2019}
%\end{itemize}

There is by now a large body of research on procedurally generating various types of game content~\citepeleventh{p11shaker_procedural_2016}. While the literature on PCG in general is far too voluminous to survey here, it should be noted that PCG methods of different kinds have been developed for a wide variety of content, not just game levels. Narrative, quests, and plots have been generated using different approaches such as planning~\citepeleventh{p11young_plans_2013}, grammars~\citepeleventh{p11hartsook_toward_2011,p11doran_prototype_2011}, machine learning~\citepeleventh{p11tambwekar_controllable_2019}, and patterns~\citepeleventh{p11trenton_quest_2010,p11breault_let_2021,p11alvarez_tropetwist_2022}. Further, several approaches have been proposed to generate multiple facets of games, in particular level geometry together with rules, music, lighting, sound etc~\citepeleventh{p11liapis_computational_2014,p11liapis_orchestrating_2019,p11hoover_audioinspace_2015,p11holtar_audioverdrive_2013,p11karavolos_multi-faceted_2019,p11cook_rogue_2014,p11treanor_game-o-matic_2012,p11green_data_2018}. More relevantly to the current project, several papers have proposed ways of co-generating narrative and levels~\citepeleventh{p11ashmore_quest_2007,p11hartsook_toward_2011,p11dormans_generating_2011,p11abuzuraiq_taksim_2019}.

%other approaches to generate stories and narratives.~\citepeleventh{p11alvarez_questgram_2021,hartsook_toward_2011,trenton_quest_2010,rouse_sketching_2018,doran_prototype_2011,breault_let_2021,garbe_storyassembler_2019,dormans_generating_2011,sullivan_questbrowser_2009}

In tandem with research on automatically and autonomously generating game content and narrative, there has been a considerable amount of work ``mixed-initiative'' systems, which allow a human designer to co-create content with algorithms. In the domain of level generation for games, a number of systems have been developed that allow a human to receive suggestions, feedback, or constraints from an AI systems. These include systems for co-creating platform game levels~\citepeleventh{p11smith_tanagra_2011}, strategy maps~\citepeleventh{p11liapis_sentient_2013}, and certain aspects of narrative~\citepeleventh{p11kreminski_germinate_2020,p11kreminski_why_2020}.


The core algorithm employed in the current paper is MAP-Elites, a quality-diversity algorithm that seeks to illuminate a space of possible problem solutions~\citepeleventh{p11mouret_illuminating_2015}. While essentially a type of evolutionary algorithms, MAP-Elites, like other quality-diversity algorithms, do not seek to find a single best solution but rather a set of solutions that vary along certain specified measures. The measures define a grid, where each cell is the best solution that has been found within certain values of the measures. These measures can be defined in many ways; for game levels, they might include the density of a level, its difficulty for a particular type of agent, its symmetry etc. MAP-Elites has been used in multiple recent AI-based game design systems~\citepeleventh{p11alvarez_assessing_2021,p11alvarez_empowering_2019,p11charity_baba_2020,p11charity_mech-elites_2020,p11khalifa_talakat_2018}.